<?php
include 'authentication.php';
  
?>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wishlist</title>
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
  />
</head>
<style>
    body {
    font-family: Arial, sans-serif;
    background: white;
    margin: 0;
    padding: 0;
    text-align: center;
    

}

    /* General Styles */


/* Food Item Card */
.food-item {
    display: flex;
    background: white;
    border-radius: 10px;
    padding: 37px;
    margin: 5px;
    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
    height: 50px;
    position: relative;
    text-align: center;
    transition: transform 0.3s;
    gap: 40px;
    justify-content: center;
    
}
.add-to-cart{
    background: #FFD700;
    padding: 10px;
    border: none;
    border-radius: 57px;
    cursor: pointer;
    width: 25px;
    height: 25px;
    
    top: 12px;
    right: 14px;
    font-size: 12px;
    font-weight: bold;
    width: 100%;
    height: 25px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    white-space: nowrap
    ;
}

.food-item:hover {
    transform: scale(1.05);
}

.food-item img {
    width: 70px;
  display: flex;
  justify-content: center;
    height: 60px;
    border-radius: 8px;
}

.food-item h3 {
    font-size: 13px;
    margin: 5px 0;
    color: #333;
    
}

.price-rating {
    display: block;
    justify-content: space-around;
    align-items: center;
    font-size: 12px;
    padding: 16px;
    color: #666;
    gap: 19px;
    
}

.price-rating p {
    font-weight: bold;
    color: #000;
}

.rating {
    color: #f39c12;
    font-weight: bold;
}

/* Wishlist (Heart Icon) */
.wishlist {
    background: none;
    border: none;
    cursor: pointer;
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 18px;
    transition: color 0.3s;
}

.love-icon {
    color: grey;
    transition: color 0.3s ease-in-out;
}

.love-icon.active {
    color: red;
}

/* Wishlist Page (love.html) */
#wishlist-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
}

#wishlist-container .food-item {
    width: 78%;
}

/* Navigation Link */


a:hover {
    color: #0056b3;
}

.top-bar {
    display: flex;
    justify-content: space-between;
    padding: 10px;
    background: none;
    margin: 10px;
  
}

.website-link {
    font-size: 12px;
    color: gray;
}

.location {
    font-size: 14px;
}

.user-icon {
    width: 30px;
    height: 30px;
    border-radius: 50%;
}

.search-bar input {
    width: 90%;
    padding: 10px;
    margin: 10px auto;
    display: block;
    border-radius: 20px;
    border: 1px solid lightgray;
}

footer {
    display: flex;
    justify-content: space-around;
    align-items: center;
    position: fixed;
    bottom: 0;
    width: 70%;
    background: #f6f5f5;
    padding: 10px 0;
    z-index: 1;
  }
  footer i {
    font-size: 0.2rem;
    color: gray;
    cursor: pointer;
    z-index: 1;
  }
  footer i:hover {
    color: #080808;
  }
  .solo i {
    color: #111111;
  }
  

footer {
position: fixed;
bottom: 0;
left: 0;
width: 100%;
background-color: rgb(254, 253, 253);
display: flex;
justify-content: space-around;
align-items: center;
padding: 10px 0;
border-top: 1px solid rgb(214, 213, 213);
box-shadow: 0 -1px 5px rgba(0, 0, 0, 0.1);
z-index: 1000;
}

footer a {
text-decoration: none;
color: #333;
text-align: center;
font-size: 10px;
flex: 1;
}

footer a i {
font-size: 18px;
display: block;
margin-bottom: 5px;
}

footer a span {
display: block;
font-size: 10px;
color: gray;
}
.solo span {
color: #050505;
}
/* HEADER STYLES */
.top-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background: #fafaf8; /* Yellow Theme */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    height: 35px;
}

.logo img {
    height: 50px;
}

.nav-menu {
    display: flex;
}

.nav-menu ul {
    display: flex;
    list-style: none;
    gap: 20px;
    padding: 0;
}

.nav-menu ul li a {
    text-decoration: none;
    color: #333;
    font-weight: bold;
}

/* MENU TOGGLE BUTTON */
.menu-toggle {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    display: none; /* Hidden by default */
}

/* SIDEBAR MENU (FOR SMALL SCREENS) */
.sidebar {
    position: fixed;
    top: 0;
    left: -250px;
    width: 250px;
    height: 100%;
    background: #fefefd;
    padding-top: 60px;
    transition: left 0.3s ease;
    box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2);
    z-index: 1;
}

.sidebar ul {
    list-style: none;
    padding: 0;
}

.sidebar ul li {
    padding: 15px;
    text-align: center;
}

.sidebar ul li a {
    text-decoration: none;
    color: black;
    font-size: 18px;
    font-weight: bold;
    display: block;
}

.close-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    font-size: 24px;
    border: none;
    background: none;
    cursor: pointer;
}

/* RESPONSIVE DESIGN */
@media (max-width: 768px) {
    .nav-menu {
        display: none;
    }
    .menu-toggle {
        display: block;
    }
}
.logo img {
    height: 100px;
    width: 100px;
}



@media (min-width: 788px) {
.image-content img{
    width: 409px;
    height: 400px;
}
footer{
        display: none;
    }
    footer i {
       display: none;
      }
  
}
.site-footer {
    background: #FFD700;
    color: rgb(7, 7, 7);
    text-align: center;
    padding: 50px 0;
}
.site-footer .container {
    max-width: 1200px;
    margin: auto;
}
.footer-top h2 {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 10px;
    border-bottom: 3px  solid ;
}
.footer-top p {
    font-size: 16px;
    opacity: 0.8;
}
.footer-links ul {
    list-style: none;
    padding: 0;
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 20px 0;
}
.footer-links ul li a {
    text-decoration: none;
    color: rgb(10, 10, 10);
    font-size: 16px;
}
.footer-links ul li a:hover {
    color: #FFD700;
}
.footer-social {
    margin-bottom: 20px;
}
.footer-social a {
    display: inline-block;
    margin: 0 10px;
}
.footer-social img {
    width: 30px;
    height: 30px;
}
.footer-copy {
    font-size: 14px;
    opacity: 0.7;
}

.food-item h3 {
    font-size: 16px;
    margin: 10px 0;
}

.price-rating {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 14px;
    margin-top: 5px;
}

.rating {
    color: #ffcc00;
}

/* Wishlist heart button */
.wishlist {
    border: none;
    background: none;
    font-size: 18px;
    position: absolute;
    top: 10px;
    right: 10px;
    cursor: pointer;
}

.wishlist i {
    color: grey;
    transition: color 0.3s;
}

.wishlist i.active {
    color: red; /* Changes heart color when active */
}

/* Grid layout: 2 per row on small screens, 4 per row on larger screens */

.whish h1{
    font-size: 21px;
     text-align: left;
   
 padding: 5px;
 margin: 15px;
 margin-top: 35px;
   border-bottom: 1px  solid whitesmoke;
}
.remove-wishlist {
       
        color: rgb(249, 3, 3);
    
        border-radius: 40px;
      
        width: 100px;
        font-size: 15px;
        height: 25px;
   
     
    }
    .bak a{
        color: #666;
       
    }
    .food-container{
        display: flex;
        gap: 15px;
        
    }

    .add-to-cart{
    background: #FFD700;
    padding: 10px;
    border: none;
    border-radius: 57px;
    cursor: pointer;
}
.view-details{
    display: flex;
    justify-content: space-between;
    gap: 15px;
}
a{
    text-decoration: none;
    color: #080808;
}

#wishlist-count {
    position: absolute;
    top: 0;
    right: 6px;
    background: red;
    color: white;
    font-size: 10px;
    font-weight: bold;
    width: 18px;
    height: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    
    transform: translate(50%, -50%); /* Center on top-right */
}
.cart-icon-container {
    position: relative; /* Ensures the badge positions correctly */
    display: inline-block; /* Keeps it inline */
}
.wishlist-icon-container {
    position: relative; /* Ensures the badge positions correctly */
    display: inline-block; /* Keeps it inline */
}
.cart-count-badge {
    position: absolute;
    top: 0;
    right: 0;
    background: red;
    color: white;
    font-size: 10px;
    font-weight: bold;
    width: 18px;
    height: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    
    transform: translate(50%, -50%); /* Center on top-right */
}
</style>
<body>
    <header class="top-header">
        <div class="logo">
          <a href="index.php"><img src="Black_and_White_Modern_Minimalist_Streetwear_Logo-removebg-preview.png" alt="MR SEE CHICKEN Logo"></a>  
        </div>
              
    
       
        <button class="menu-toggle">&#9776;</button> <!-- ☰ Menu Button -->
  
        <nav class="nav-menu">
            
            <ul>
                <li><a href="about.html">About Us</a></li>
                <li><a href="menu.html">Menu</a></li>
                <li><a href="#">Order</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>

    </header>
    
    <!-- Sidebar Menu -->
    <div class="sidebar">
        <button class="close-btn">&times;</button> <!-- Close Button -->
        <ul>
            <li><a href="about.html">About Us</a></li>
            <li><a href="menu.html">Menu</a></li>
            <li><a href="#">Order</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </div>
    

    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Wishlist</title>
        <link rel="stylesheet" href="styles.css">
        <script src="wishlist.js" defer></script>
    </head>
    <body>
        <div class="whish">
            <h1> Your Favorite</h1>
        </div>
      
        <div id="wishlist-container" class="food-container"></div>
    <div class="bak">
        <a href="index.php">⬅ Back to Home</a>
    </div>
    
    
    </body>
    </html>
    

    <br>
    <br>
    <br>
    <footer>
        <a href="index.php">
          <i class="fas fa-home"></i>
          <span>Home</span>
        </a>
        
        
        <a class="solo" href="love.html">
            <div class="wishlist-icon-container">
          <i class="fas fa-heart"></i>
          <span id="wishlist-count"  style="display: none;">0</span>
          <span>Favorite</span>
          </div>
        </a>
        <a href="cart.php">
            <div class="cart-icon-container">
            <i class="fa fa-shopping-cart"></i>
            <span id="cart-count" class="cart-count-badge" style="display: none;">0</span>
            <span>Cart</span>
        </div>
          </a>
        <a href="ussr.php">
          <i class="fas fa-user"></i>
          <span>Account</span>
        </a>
      </footer>
      <script>
     document.addEventListener("DOMContentLoaded", function () {
    let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];
    const wishlistContainer = document.getElementById("wishlist-container");

    function renderWishlist() {
        wishlistContainer.innerHTML = "";

        if (wishlist.length === 0) {
            wishlistContainer.innerHTML = "<p>No favorite yet 💔</p>";
            return;
        }

        wishlist.forEach((item, index) => {
            const foodItem = document.createElement("div");
            foodItem.classList.add("food-item");

            foodItem.innerHTML = `
            <div class="food-container">
          <a href="${item.detailsPage}" class="view-details">
                <img src="${item.image}" alt="${item.name}">
                <h3>${item.name}</h3>
                 <p>₦${item.price.toLocaleString()}</p>
                  </a>
                <div class="price-rating">
                   
                     <button class="add-to-cart" onclick="addToCart('${item.name}', '${item.price}', '${item.image}')">
                            Add to Cart
                        </button>
                           <button class="wishlist remove-wishlist" data-index="${index}">
                Remove
                </button>
                    
                    
                </div>
              
                </div>
            `;

            wishlistContainer.appendChild(foodItem);
        });

        // Add event listeners to remove buttons
        document.querySelectorAll(".remove-wishlist").forEach(button => {
            button.addEventListener("click", function () {
                const index = this.getAttribute("data-index");
                wishlist.splice(index, 1);
                localStorage.setItem("wishlist", JSON.stringify(wishlist));
                renderWishlist(); // Re-render after removing
            });
        });
    }

    renderWishlist();
    window.addToCart = function(name, price, image) {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
         
            // Check if the item already exists in the cart
            let existingItem = cart.find(item => item.name === name);
            if (existingItem) {
                existingItem.quantity += 1; // Increment quantity
            } else {
                cart.push({ name, price, image, quantity: 1 });
            }
            
            localStorage.setItem("cart", JSON.stringify(cart));
            alert(`${name} added to cart!`);
        };

        window.removeFromWishlist = function(index) {
            wishlist.splice(index, 1);
            localStorage.setItem("wishlist", JSON.stringify(wishlist));
            renderWishlist();
        };
});

      </script>
      


   

     <script>
        document.addEventListener("DOMContentLoaded", function () {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            const cartItemsContainer = document.getElementById("cart-items");
            const subtotalEl = document.getElementById("subtotal");
            const totalEl = document.getElementById("total");
           
  
         
            const cartCountEl = document.getElementById("cart-count");
    
            function updateCartCount() {
                let totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                if (totalItems > 0) {
                    cartCountEl.style.display = "flex";
                    cartCountEl.textContent = totalItems;
                } else {
                    cartCountEl.style.display = "none";
                }
            }
    
            updateCartCount(); // Call on page load
    
            // Modify "Add to Cart" function to update count dynamically
            document.querySelectorAll(".add-to-cart").forEach(button => {
                button.addEventListener("click", function () {
                    let name = this.getAttribute("data-name");
                    let price = parseInt(this.getAttribute("data-price").replace(",", ""));
                    let image = this.getAttribute("data-image");
    
                    let existingItem = cart.find(item => item.name === name);
                    if (existingItem) {
                        existingItem.quantity += 1;
                    } else {
                        cart.push({ name, price, image, quantity: 1 });
                    }
    
                    localStorage.setItem("cart", JSON.stringify(cart));
                    updateCartCount();
                });
            });
    
            // Modify "Remove Item" function to update count when an item is removed
            window.removeItem = function(index) {
                cart.splice(index, 1);
                localStorage.setItem("cart", JSON.stringify(cart));
                updateCartDisplay();
                updateCartCount();
            };
    
            // Modify "Change Quantity" function to update count
            window.changeQuantity = function(index, change) {
                cart[index].quantity += change;
                if (cart[index].quantity <= 0) {
                    cart.splice(index, 1);
                }
                localStorage.setItem("cart", JSON.stringify(cart));
                updateCartDisplay();
                updateCartCount();
            };
        });
    
            
    
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
    let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];
    const wishlistCountEl = document.getElementById("wishlist-count");

    // Function to update the wishlist count
    function updateWishlistCount() {
        wishlistCountEl.textContent = wishlist.length;
        wishlistCountEl.style.display = wishlist.length > 0 ? "flex" : "none";
    }

    // Update wishlist count on page load
    updateWishlistCount();

    // Function to add or remove from wishlist
    document.querySelectorAll(".wishlist").forEach(button => {
        button.addEventListener("click", function () {
            let itemContainer = button.closest(".food-container");
            let name = itemContainer.querySelector("h3").textContent;
            let price = parseInt(itemContainer.querySelector("p").textContent.replace("₦", "").replace(",", ""));
            let image = itemContainer.querySelector("img").src;
            let rating = itemContainer.querySelector(".rating")?.textContent?.replace("⭐ ", "") || "0";

            let existingItem = wishlist.find(item => item.name === name);
            if (existingItem) {
                wishlist = wishlist.filter(item => item.name !== name);
                button.querySelector(".love-icon").classList.remove("active");
            } else {
                wishlist.push({ name, price, image, rating });
                button.querySelector(".love-icon").classList.add("active");
            }

            localStorage.setItem("wishlist", JSON.stringify(wishlist));
            updateWishlistCount();
        });
    });

    // Function to remove from wishlist (if applicable)
    window.removeFromWishlist = function (index) {
        wishlist.splice(index, 1);
        localStorage.setItem("wishlist", JSON.stringify(wishlist));
        updateWishlistCount();
    };
});

    </script>
    
</body>
</html>
