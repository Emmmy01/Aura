<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
    /* General sidebar styling */
    #sidebar {
      position: fixed;
      top: -4500px; /* Hidden by default */
      right: 0;
      width: 300px;
      height: 10%;
      background-color: #050404;
      box-shadow: -4px 0 10px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      transition: top 0.3s ease;
      overflow-y: auto;
      padding: 20px;
      border-left: 2px solid #ddd;
    }

    /* Close button */
    #sidebar .close-btn {
      display: block;
      text-align: right;
      font-size: 20px;
      font-weight: bold;
      color: #333;
      margin-bottom: 15px;
      cursor: pointer;
    }

    /* Cart items container */
    #cart-items {
      margin-top: 20px;
    }

    /* Individual cart items */
    #cart-items div {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      border-bottom: 1px solid #ddd;
      padding-bottom: 10px;
    }

    #cart-items img {
      width: 50px;
      height: 50px;
      margin-right: 10px;
      border-radius: 4px;
    }

    #cart-items h4 {
      margin: 0;
      font-size: 16px;
    }

    #cart-items p {
      margin: 5px 0;
      font-size: 14px;
    }

    /* Cart totals */
    .cart-totals {
      margin-top: 20px;
      padding-top: 10px;
      border-top: 2px solid #ddd;
    }

    .cart-totals p {
      margin: 10px 0;
      font-size: 16px;
      font-weight: bold;
    }

    .cart-totals span {
      float: right;
    }

    /* Button styling */
    button {
      background-color: #ff4d4d;
      color: white;
      border: none;
      border-radius: 5px;
      padding: 10px;
      cursor: pointer;
    }

    button:hover {
      background-color: #e63939;
    } 
  </style>
  <body>
    <!-- Sidebar -->
    <div
     
    >
      <button onclick="toggleSidebar()">Close</button>
      <div id="cart-items"></div>
      <div style="padding: 10px; border-top: 1px solid #ddd">
        <p>Subtotal: ₦<span id="subtotal">0.00</span></p>
        <p>Tax: ₦<span id="tax">0.00</span></p>
        <p>Total: ₦<span id="total">0.00</span></p>
      </div>
    </div>

    <!-- Product Page -->
    <div class="boys-items-container">
      <!-- Card 1 -->
      <div class="item-card" data-category="tshirt">
        <img src="Smart Casual style.jpg" alt="Boys Shirt" class="item-image" />
        <div class="item-info">
          <h3 class="item-name">Casual Boys Shirt</h3>
          <div class="rating">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="far fa-star"></i>
            (4.0)
          </div>
          <div class="together">
            <div class="price">₦50,000</div>
            <button
              class="cart-btn"
              onclick="addToCart('Casual Boys Shirt', 50000, 'Smart Casual style.jpg')"
            >
              <i class="fas fa-shopping-cart"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    <script>
      let cart = [];
      const salesTaxRate = 0.1;

      function toggleSidebar() {
        const sidebar = document.getElementById("sidebar");
        sidebar.style.top = sidebar.style.top === "0px" ? "-450px" : "0px";
      }

      function addToCart(name, price, image) {
        // Resolve the full path of the image
        const imageSrc =
          image.startsWith("http") || image.startsWith("data:")
            ? image
            : `./${image}`;

        const existingItem = cart.find((item) => item.name === name);
        if (existingItem) {
          existingItem.quantity += 1;
        } else {
          const item = { name, price, image: imageSrc, quantity: 1 };
          cart.push(item);
        }
        renderCart();

        // Show cart sidebar
        const sidebar = document.getElementById("sidebar");
        sidebar.style.top = "0px";
      }

      function renderCart() {
        const cartItemsContainer = document.getElementById("cart-items");
        cartItemsContainer.innerHTML = "";

        let subtotal = 0;

        cart.forEach((item) => {
          subtotal += item.price * item.quantity;

          const cartItem = document.createElement("div");
          cartItem.style.display = "flex";
          cartItem.style.alignItems = "center";
          cartItem.style.marginBottom = "10px";

          cartItem.innerHTML = `
      <img src="${item.image}" alt="${
            item.name
          }" style="width: 50px; height: 50px; margin-right: 10px; border-radius: 4px;">
      <div>
        <h4 style="margin: 0; font-size: 16px;">${item.name}</h4>
        <p style="margin: 5px 0; font-size: 14px;">Price: ₦${item.price.toFixed(
          2
        )}</p>
        <p style="margin: 5px 0; font-size: 14px;">Quantity: ${
          item.quantity
        }</p>
      </div>
    `;
          cartItemsContainer.appendChild(cartItem);
        });

        const tax = subtotal * salesTaxRate;
        const total = subtotal + tax;

        document.getElementById("subtotal").textContent = subtotal.toFixed(2);
        document.getElementById("tax").textContent = tax.toFixed(2);
        document.getElementById("total").textContent = total.toFixed(2);
      }
    </script>
  </body>
</html>
<script>
    let cartCount = 0;

    // Function to update the cart count display
    function updateCartCount() {
      const cartCountElement = document.getElementById("cart-count");
      const removeButton = document.getElementById("remove-button");

      cartCountElement.innerText = cartCount;

      // Disable the remove button if cartCount is 0
      if (cartCount === 0) {
        removeButton.disabled = true;
      } else {
        removeButton.disabled = false;
      }
    }

    // Function to add an item to the cart
    function addToCart() {
      cartCount++;
      updateCartCount();
    }

    // Function to remove an item from the cart
    function removeFromCart() {
      if (cartCount > 0) {
        cartCount--;
        updateCartCount();
      }
    }

    // Initialize the cart count display
    document.addEventListener("DOMContentLoaded", updateCartCount);
  </script>